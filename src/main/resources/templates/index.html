<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>GenAI Chatbot</title>
</head>
<body>
<h2>GenAI Chatbot</h2>

<textarea id="userMessage" rows="4" cols="50" placeholder="Type your message..."></textarea>
<br><br>
<button onclick="sendMessage()">Send</button>

<h3>Response:</h3>
<pre id="botResponse"></pre>

<script>
    async function sendMessage() {
        const message = document.getElementById("userMessage").value;

        const response = await fetch("/chat", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({ message })
        });

        const data = await response.json();

        // Show only the assistant's reply content
        document.getElementById("botResponse").innerText = data.content;
    }
</script>
</body>
</html>
